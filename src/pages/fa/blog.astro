---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import BlogPost from "../../components/BlogPost.astro";

const pageTitle = "My Astro Learning Blog";
const allPosts = await getCollection("blog");
---

<BaseLayout lang="fa">
  <section class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-white">
    <header class="mb-10 text-center">
      <h1 class="text-4xl font-extrabold tracking-tight mb-3 bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-500">
        {pageTitle}
      </h1>
      <p class="text-lg text-white/80">
        This is where Iâ€™ll share posts about my journey learning Astro.
      </p>
    </header>

    <ul class="space-y-6">
      {
        allPosts.map((post) => (
          <li
            class="p-6 bg-white/10 border border-white/20 backdrop-blur-md rounded-2xl shadow-md hover:bg-white/15 transition-all duration-300 ease-in-out"
          >
            <BlogPost
              url={`/posts/${post.id}/`}
              title={post.data.title}
            />
          </li>
        ))
      }
    </ul>
  </section>
</BaseLayout>
